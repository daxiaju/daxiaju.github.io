{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/aria/source/css/atom-one-dark.css","path":"css/atom-one-dark.css","modified":0,"renderable":1},{"_id":"themes/aria/source/css/atom-one-light.css","path":"css/atom-one-light.css","modified":0,"renderable":1},{"_id":"themes/aria/source/css/commentjs.css","path":"css/commentjs.css","modified":0,"renderable":1},{"_id":"themes/aria/source/css/custom.styl","path":"css/custom.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/footer.styl","path":"css/footer.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/comment.styl","path":"css/comment.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/info.styl","path":"css/info.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/header.styl","path":"css/header.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/lightgallery.min.css","path":"css/lightgallery.min.css","modified":0,"renderable":1},{"_id":"themes/aria/source/css/normalize.css","path":"css/normalize.css","modified":0,"renderable":1},{"_id":"themes/aria/source/css/page.styl","path":"css/page.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/post.styl","path":"css/post.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/nav.styl","path":"css/nav.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/sidebar.styl","path":"css/sidebar.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/solarized-dark.css","path":"css/solarized-dark.css","modified":0,"renderable":1},{"_id":"themes/aria/source/css/solarized-light.css","path":"css/solarized-light.css","modified":0,"renderable":1},{"_id":"themes/aria/source/css/variables.styl","path":"css/variables.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/css/reward.styl","path":"css/reward.styl","modified":0,"renderable":1},{"_id":"themes/aria/source/fonts/lg.svg","path":"fonts/lg.svg","modified":0,"renderable":1},{"_id":"themes/aria/source/fonts/lg.ttf","path":"fonts/lg.ttf","modified":0,"renderable":1},{"_id":"themes/aria/source/fonts/lg.woff","path":"fonts/lg.woff","modified":0,"renderable":1},{"_id":"themes/aria/source/images/avatar.png","path":"images/avatar.png","modified":0,"renderable":1},{"_id":"themes/aria/source/fonts/lg.eot","path":"fonts/lg.eot","modified":0,"renderable":1},{"_id":"themes/aria/source/js/busuanzi.pure.mini.js","path":"js/busuanzi.pure.mini.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/clipboard.min.js","path":"js/clipboard.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/images/logo.png","path":"images/logo.png","modified":0,"renderable":1},{"_id":"themes/aria/source/js/custom.js","path":"js/custom.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/highlight.min.js","path":"js/highlight.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/index.js","path":"js/index.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/lg-fullscreen.min.js","path":"js/lg-fullscreen.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/lg-hash.min.js","path":"js/lg-hash.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/commentjs.js","path":"js/commentjs.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/lg-thumbnail.min.js","path":"js/lg-thumbnail.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/lg-zoom.min.js","path":"js/lg-zoom.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/lightgallery.min.js","path":"js/lightgallery.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/marked.min.js","path":"js/marked.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/lg-pager.min.js","path":"js/lg-pager.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/scrollspy.js","path":"js/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/timeago.min.js","path":"js/timeago.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/util.js","path":"js/util.js","modified":0,"renderable":1},{"_id":"themes/aria/source/js/jquery.min.js","path":"js/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/aria/source/images/background.png","path":"images/background.png","modified":0,"renderable":1},{"_id":"themes/aria/source/js/fontawesome-all.min.js","path":"js/fontawesome-all.min.js","modified":0,"renderable":1},{"_id":"source/favicons/favicon.ico","path":"favicons/favicon.ico","modified":0,"renderable":0}],"Cache":[{"_id":"themes/aria/.gitignore","hash":"c834fafd18364f84ecdb85f8e7116e0587f38097","modified":1562055304584},{"_id":"themes/aria/LICENSE","hash":"7df059597099bb7dcf25d2a9aedfaf4465f72d8d","modified":1562055304595},{"_id":"themes/aria/README.md","hash":"8b1022cfb84b0d5b4ea35c1804cd4960786253e4","modified":1562055304596},{"_id":"themes/aria/README.zh_CN.md","hash":"81d56793468f0a865466a8608cc0b163e8e50038","modified":1562055304597},{"_id":"themes/aria/package.json","hash":"204daa5c8bcb223c75d48f8fe03ae0cf64c09d6e","modified":1562055304616},{"_id":"themes/aria/_config.yml.example","hash":"8adb7a71f8f706ddbc4866b6daf120f4f3f1de42","modified":1562055304598},{"_id":"source/_posts/how-to-install-python3-on-centos7.md","hash":"7d1aeb4556bb811e25076bf6a16f02b85a9815db","modified":1562054784746},{"_id":"source/_posts/install-twisted-on-windows.md","hash":"8eea3e89bd07cb21b7c487ba023940ad9f3ea300","modified":1562054271603},{"_id":"source/_posts/vagrant-vboxsf-error.md","hash":"9c5224e81ebc0911628a746dc5be3753281a3104","modified":1561712687731},{"_id":"themes/aria/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1562055304558},{"_id":"themes/aria/.git/config","hash":"1afba312e77981a13cbcc96c201c1010738b94f0","modified":1562055304565},{"_id":"themes/aria/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1562055213931},{"_id":"themes/aria/.git/index","hash":"958b7d6934993973f766ad8ddb807edeb9f14d4a","modified":1562055304675},{"_id":"source/_posts/Redis-Zset-实现原理.md","hash":"a09bfbdde3849ec17365bd328d99754a7651ab34","modified":1561703917592},{"_id":"themes/aria/.github/CODE_OF_CONDUCT.md","hash":"9d4763e6ab7a83a95ac7b71d9231b054613ee80a","modified":1562055304574},{"_id":"themes/aria/.git/packed-refs","hash":"31c6d8c98a07939a97dbfbc93fc5f0e4a44a94fe","modified":1562055304553},{"_id":"themes/aria/.github/CONTRIBUTING.md","hash":"79440006745ae233729ceccae96fcc9b654f3100","modified":1562055304575},{"_id":"themes/aria/.github/PULL_REQUEST_TEMPLATE.md","hash":"6b606f25f81eac248bdacb64cd6a767856e1629f","modified":1562055304583},{"_id":"themes/aria/layout/_layout.njk","hash":"a9452e989cea061c5d9440ab6fdfbfd6fe98243b","modified":1562055304604},{"_id":"themes/aria/layout/archive.njk","hash":"da660b3d00bde977c125cf2df314706c9730f85d","modified":1562055304604},{"_id":"themes/aria/layout/categories.njk","hash":"2b25faba94c55a036a10e6bc68cf9633cbe5713d","modified":1562055304605},{"_id":"themes/aria/layout/category.njk","hash":"d9a6d2745a6c88744237f36aa9eb753d5f0c4bda","modified":1562055304606},{"_id":"themes/aria/layout/comment.njk","hash":"d49bf954b953d75fe510e9e39615836c6fe05579","modified":1562055304607},{"_id":"themes/aria/layout/footer.njk","hash":"5bdc8d7a407ac721d0869302cec6e4a7ceefce12","modified":1562055304609},{"_id":"themes/aria/layout/header.njk","hash":"3c84ad670af51cbf5229595b73dbb4b7d507ba14","modified":1562055304610},{"_id":"themes/aria/.github/ISSUE_TEMPLATE.md","hash":"7043b0a86411108976120fb19e45d8c141cd4b00","modified":1562055304582},{"_id":"themes/aria/layout/info.njk","hash":"e540fd8e31569cf776a129f6fd4a40ef4db2ea1a","modified":1562055304611},{"_id":"themes/aria/layout/page.njk","hash":"adcfd3830e6433f8613d22f879fc194d6ef973b9","modified":1562055304612},{"_id":"themes/aria/layout/index.njk","hash":"4ca77afa50437f038b0ece064d50eaab2ea563e1","modified":1562055304611},{"_id":"themes/aria/layout/post.njk","hash":"45b6a4115ce64fc49e3b4f0bc71dad9bf0e2fa67","modified":1562055304613},{"_id":"themes/aria/layout/sidebar.njk","hash":"68f05c56f426e86300c3420e4be9536ac43fcc3c","modified":1562055304614},{"_id":"themes/aria/layout/reward.njk","hash":"47081449f1f55f84b89765c0a859e562d7a9602a","modified":1562055304613},{"_id":"themes/aria/layout/tags.njk","hash":"b2a9278ddd5d41ddd01b589e662065b1ac351ae4","modified":1562055304615},{"_id":"themes/aria/scripts/regexp-tags.js","hash":"203cbd4e867888ac365580c6bf6f88719926916c","modified":1562055304617},{"_id":"themes/aria/layout/tag.njk","hash":"59daa62e390d04f3ff8e3f50ec28f581e60b4127","modified":1562055304614},{"_id":"themes/aria/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1562055213933},{"_id":"themes/aria/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1562055213934},{"_id":"themes/aria/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1562055213937},{"_id":"themes/aria/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1562055213939},{"_id":"themes/aria/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1562055213940},{"_id":"themes/aria/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1562055213941},{"_id":"themes/aria/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1562055213944},{"_id":"themes/aria/.git/hooks/update.sample","hash":"39355a075977d05708ef74e1b66d09a36e486df1","modified":1562055213946},{"_id":"themes/aria/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1562055213947},{"_id":"themes/aria/.git/logs/HEAD","hash":"90bbe761cd5fbcbefce699617875e81468997534","modified":1562055304561},{"_id":"themes/aria/source/css/atom-one-dark.css","hash":"a6d28e1c04cee20cd874fc7ac0903d8e2e4bd54e","modified":1562055304618},{"_id":"themes/aria/source/css/atom-one-light.css","hash":"13e7620fe2842fa91cb309391a0b01a0c8712f12","modified":1562055304618},{"_id":"themes/aria/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1562055213943},{"_id":"themes/aria/source/css/commentjs.css","hash":"d00731f87a5946fe70c893ba52ccc2b29c1f7ae6","modified":1562055304624},{"_id":"themes/aria/source/css/custom.styl","hash":"957c0ec7bbbd66daac71d5ecbf4407ba598e8b2f","modified":1562055304625},{"_id":"themes/aria/source/css/footer.styl","hash":"1d24e0ccb06d7f0f412d03d18d5b6c2232e50e83","modified":1562055304626},{"_id":"themes/aria/source/css/comment.styl","hash":"e4f03ad5e2043840412d56de3b2e6856bcfef142","modified":1562055304619},{"_id":"themes/aria/source/css/index.styl","hash":"f8ad06af4df1fd663491b537ccc45c59336ed0f7","modified":1562055304627},{"_id":"themes/aria/source/css/info.styl","hash":"24a39709f8bde610b856dded440b77ccf6e9cf2f","modified":1562055304628},{"_id":"themes/aria/source/css/header.styl","hash":"913702c2125904687bc2e1bdb7be158c18cbb1b2","modified":1562055304627},{"_id":"themes/aria/source/css/main.styl","hash":"871b1f4a96f009dffd0c37f143b702d7432678df","modified":1562055304629},{"_id":"themes/aria/source/css/lightgallery.min.css","hash":"9e76bdad163856774a96b1230a08dc506600a973","modified":1562055304628},{"_id":"themes/aria/source/css/normalize.css","hash":"734a72e6c28d4a3a870404fb4abf72723c754296","modified":1562055304630},{"_id":"themes/aria/source/css/page.styl","hash":"63939ebea52416ff1172112f7cc471ea3e0a2aa4","modified":1562055304630},{"_id":"themes/aria/source/css/post.styl","hash":"93df40f83d77ba50e792513443f584b16a8c0eb0","modified":1562055304631},{"_id":"themes/aria/source/css/nav.styl","hash":"facc935de74b82dff97436993da1ec2b25bf39c8","modified":1562055304629},{"_id":"themes/aria/source/css/sidebar.styl","hash":"9e8ab09e8071a8cebad48487ffdb59ca7c72e1fd","modified":1562055304632},{"_id":"themes/aria/source/css/solarized-dark.css","hash":"d02fc2dcbeec4b7af2cadec4bbbfc5b016aed4c7","modified":1562055304632},{"_id":"themes/aria/source/css/solarized-light.css","hash":"6b70caf1e84d096b1bc6318d5dae78d69e5dd1d3","modified":1562055304637},{"_id":"themes/aria/source/css/variables.styl","hash":"07700c02fe01a27cbe728e6887d8aa2bc716372c","modified":1562055304637},{"_id":"themes/aria/source/css/reward.styl","hash":"d6d79ff8ed2a5e920f7812328035fccfbdffa3a7","modified":1562055304631},{"_id":"themes/aria/source/fonts/lg.svg","hash":"50a2216596766a48655e3f87e1d1000ba93bf8a1","modified":1562055304639},{"_id":"themes/aria/source/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1562055304640},{"_id":"themes/aria/source/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1562055304640},{"_id":"themes/aria/source/images/avatar.png","hash":"e63be2fab169a0478af27c47240d1d123fa2b2ba","modified":1562055304641},{"_id":"themes/aria/source/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1562055304638},{"_id":"themes/aria/source/js/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1562055304644},{"_id":"themes/aria/source/js/clipboard.min.js","hash":"ee60ca5ba9401456105ef703a98092369b579c80","modified":1562055304645},{"_id":"themes/aria/source/images/logo.png","hash":"fa35ee718a416900fd4b401300fa995a86c234ad","modified":1562055304644},{"_id":"themes/aria/source/js/custom.js","hash":"7e3e36b3ba8de9c168fa50d4b77449d9865b011a","modified":1562055304647},{"_id":"themes/aria/source/js/highlight.min.js","hash":"02bb4cdaf43c85b7ee4ef6ccf1f3fe8e82fd3ceb","modified":1562055304656},{"_id":"themes/aria/source/js/index.js","hash":"8984287c5a1492bcfcd12cb0aef79345fe4bb3fd","modified":1562055304657},{"_id":"themes/aria/source/js/lg-fullscreen.min.js","hash":"71cf4fbc9ebbc7ccf1c580cd0389f0a28df64bd6","modified":1562055304661},{"_id":"themes/aria/source/js/lg-hash.min.js","hash":"163a3eb6bdd227549bb7b5be61dffed36af474fa","modified":1562055304662},{"_id":"themes/aria/source/js/commentjs.js","hash":"c60e44a9aa66628bfcc0912ee3a10469b3c2899b","modified":1562055304645},{"_id":"themes/aria/source/js/lg-thumbnail.min.js","hash":"3f3024b3ff6a5266bd40ed890398d7f2393cd5a5","modified":1562055304667},{"_id":"themes/aria/source/js/lg-zoom.min.js","hash":"b26f6070ad290f937c49289bd52014677dd6073c","modified":1562055304668},{"_id":"themes/aria/source/js/lightgallery.min.js","hash":"c2101bab37ebcb47cc21a3b92611493a165e5a79","modified":1562055304669},{"_id":"themes/aria/source/js/marked.min.js","hash":"c9eb834a28665addef7e66ee1a787fa1cbbb43eb","modified":1562055304670},{"_id":"themes/aria/source/js/lg-pager.min.js","hash":"c4f5c7d91c87761f1626ebb411e5ed6d456799f0","modified":1562055304664},{"_id":"themes/aria/source/js/scrollspy.js","hash":"724f9a0e12bd5c6a9d8cbf299ef4255621433cbf","modified":1562055304672},{"_id":"themes/aria/source/js/search.js","hash":"9ac9f869aa245a33f1bd72ea58c8168a2f0e9824","modified":1562055304672},{"_id":"themes/aria/source/js/timeago.min.js","hash":"d220fcc47be00effec6b5181b97cc0929d10031e","modified":1562055304674},{"_id":"themes/aria/source/js/util.js","hash":"f4d0034baaf346b532d1a1602c0b48963a018f23","modified":1562055304675},{"_id":"themes/aria/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1562055304600},{"_id":"themes/aria/languages/en.yml","hash":"4c9276c495c0e83942599d8b3eef358c2f01c719","modified":1562055304601},{"_id":"themes/aria/languages/zh_CN.yml","hash":"3b54b6c97901b050dbeb9196810af2306cd5dcc9","modified":1562055304602},{"_id":"themes/aria/languages/zh_HK.yml","hash":"3ef62cac353a5ffc390897720215525380521738","modified":1562055304602},{"_id":"themes/aria/languages/zh_TW.yml","hash":"d2520872c650b2cc1e7450a7bb476a162e6deb0d","modified":1562055304603},{"_id":"themes/aria/source/js/jquery.min.js","hash":"0dc32db4aa9c5f03f3b38c47d883dbd4fed13aae","modified":1562055304659},{"_id":"themes/aria/.git/objects/pack/pack-fc50dd3e19b133a4cf1c30e0cdeb4bbd80cb3b3f.idx","hash":"e22b670f0bc281161cd2026c9057c2e7357af533","modified":1562055304474},{"_id":"themes/aria/.git/refs/heads/master","hash":"10a430aea312d5e442dcc1d6852bbe1d52e155aa","modified":1562055304560},{"_id":"themes/aria/.git/logs/refs/heads/master","hash":"90bbe761cd5fbcbefce699617875e81468997534","modified":1562055304560},{"_id":"themes/aria/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1562055304555},{"_id":"themes/aria/ARIA.png","hash":"4d9349d81236b2ad3384d92b5af789aafe71926e","modified":1562055304595},{"_id":"themes/aria/source/images/background.png","hash":"c34366140a0250afbd73d62abdc58b1e00e10355","modified":1562055304643},{"_id":"themes/aria/.git/logs/refs/remotes/origin/HEAD","hash":"90bbe761cd5fbcbefce699617875e81468997534","modified":1562055304557},{"_id":"themes/aria/source/js/fontawesome-all.min.js","hash":"d7ff2806086f5924e06910e90a79b44492b52450","modified":1562055304655},{"_id":"themes/aria/.git/objects/pack/pack-fc50dd3e19b133a4cf1c30e0cdeb4bbd80cb3b3f.pack","hash":"ebf262586e4658c069b296a6ef4c89d869051703","modified":1562055304494},{"_id":"public/2019/07/02/how-to-install-python3-on-centos7/index.html","hash":"6b4a6080f37361a3e50719dd4737e8b1de567f30","modified":1562055712724},{"_id":"public/2019/07/01/install-twisted-on-windows/index.html","hash":"abf96da658e8105fdc0566f5e890e51acc711f49","modified":1562055712726},{"_id":"public/2019/06/28/vagrant-vboxsf-error/index.html","hash":"36cd4f0f1f7d0489cf91aff96fa480e0336a23fd","modified":1562055712724},{"_id":"public/2019/06/28/Redis-Zset-实现原理/index.html","hash":"f394dafa23f02b7cfcd608314bae0c46c03935dc","modified":1562055712726},{"_id":"public/archives/index.html","hash":"5b00c80959cdc6393b99784a242152d7278d5b75","modified":1562055712725},{"_id":"public/archives/2019/index.html","hash":"e915c6dc657c70326f7ab62ca36ac95b841b6d20","modified":1562055712725},{"_id":"public/archives/2019/06/index.html","hash":"4c257b9c334e24390d91a9e7bae04b214bb8a976","modified":1562055712725},{"_id":"public/archives/2019/07/index.html","hash":"11e6120dfe4d5f4e0480bc76c89264f44d2a6f32","modified":1562055712725},{"_id":"public/index.html","hash":"143498cf4157ba4ff338130b1d63158d04557e44","modified":1562055712726},{"_id":"public/tags/服务器/index.html","hash":"2a86334acef31bee802e743e2ae28a5ecfc4d43a","modified":1562055712725},{"_id":"public/tags/写代码/index.html","hash":"d2615f9e48f8a6b9b1ce2c966e1751503fa6ce34","modified":1562055712725},{"_id":"public/tags/Redis/index.html","hash":"e4a61359df769400773f2c4b16b61b7ced3a4500","modified":1562055712725},{"_id":"public/fonts/lg.svg","hash":"50a2216596766a48655e3f87e1d1000ba93bf8a1","modified":1562055369508},{"_id":"public/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1562055369509},{"_id":"public/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1562055369509},{"_id":"public/images/avatar.png","hash":"e63be2fab169a0478af27c47240d1d123fa2b2ba","modified":1562055369509},{"_id":"public/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1562055369509},{"_id":"public/images/logo.png","hash":"fa35ee718a416900fd4b401300fa995a86c234ad","modified":1562055369509},{"_id":"public/css/atom-one-dark.css","hash":"a6d28e1c04cee20cd874fc7ac0903d8e2e4bd54e","modified":1562055370867},{"_id":"public/css/atom-one-light.css","hash":"13e7620fe2842fa91cb309391a0b01a0c8712f12","modified":1562055370868},{"_id":"public/css/commentjs.css","hash":"d00731f87a5946fe70c893ba52ccc2b29c1f7ae6","modified":1562055370871},{"_id":"public/css/custom.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1562055370871},{"_id":"public/css/footer.css","hash":"d8607ae9fa69b6d24f9245153a7cc1b12b38c20b","modified":1562055370871},{"_id":"public/css/comment.css","hash":"167aa274488ac5ce8b70ae9e3bbb4273d1b300fa","modified":1562055370872},{"_id":"public/css/info.css","hash":"ac778ad846013100e29be192f1ad008de0e4c058","modified":1562055370872},{"_id":"public/css/header.css","hash":"ad08b16ba625075ae9cff4f19cef32ef0f2fb432","modified":1562055370872},{"_id":"public/css/main.css","hash":"3d97ed93443191a47c64bf8e84bd018b1ae72d74","modified":1562055370872},{"_id":"public/css/normalize.css","hash":"734a72e6c28d4a3a870404fb4abf72723c754296","modified":1562055370872},{"_id":"public/css/page.css","hash":"54b17e0ef8efbcca9cdcd0124630b2206b02b513","modified":1562055370872},{"_id":"public/css/post.css","hash":"bbe31bc54cda70466033bbd16728496a75fe6d3a","modified":1562055370872},{"_id":"public/css/nav.css","hash":"c0d2d727de09ca89abd037463b8e87710f949755","modified":1562055370872},{"_id":"public/css/sidebar.css","hash":"e1874d4449e5d54df3c513b22e2df0e24d6ea861","modified":1562055370872},{"_id":"public/css/solarized-dark.css","hash":"d02fc2dcbeec4b7af2cadec4bbbfc5b016aed4c7","modified":1562055370872},{"_id":"public/css/solarized-light.css","hash":"6b70caf1e84d096b1bc6318d5dae78d69e5dd1d3","modified":1562055370872},{"_id":"public/css/variables.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1562055370872},{"_id":"public/css/reward.css","hash":"67f442ef493d49dd2ca682992611408bae224506","modified":1562055370873},{"_id":"public/js/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1562055370873},{"_id":"public/js/clipboard.min.js","hash":"ee60ca5ba9401456105ef703a98092369b579c80","modified":1562055370873},{"_id":"public/js/custom.js","hash":"7e3e36b3ba8de9c168fa50d4b77449d9865b011a","modified":1562055370873},{"_id":"public/js/index.js","hash":"8984287c5a1492bcfcd12cb0aef79345fe4bb3fd","modified":1562055370873},{"_id":"public/js/lg-fullscreen.min.js","hash":"71cf4fbc9ebbc7ccf1c580cd0389f0a28df64bd6","modified":1562055370873},{"_id":"public/js/lg-hash.min.js","hash":"163a3eb6bdd227549bb7b5be61dffed36af474fa","modified":1562055370873},{"_id":"public/css/index.css","hash":"d8d2fb857d1a9d1a061dfe5b49673ffb8e4b2962","modified":1562055370873},{"_id":"public/css/lightgallery.min.css","hash":"9e76bdad163856774a96b1230a08dc506600a973","modified":1562055370873},{"_id":"public/js/highlight.min.js","hash":"02bb4cdaf43c85b7ee4ef6ccf1f3fe8e82fd3ceb","modified":1562055370873},{"_id":"public/js/commentjs.js","hash":"c60e44a9aa66628bfcc0912ee3a10469b3c2899b","modified":1562055370873},{"_id":"public/js/lg-thumbnail.min.js","hash":"3f3024b3ff6a5266bd40ed890398d7f2393cd5a5","modified":1562055370879},{"_id":"public/js/lg-zoom.min.js","hash":"b26f6070ad290f937c49289bd52014677dd6073c","modified":1562055370879},{"_id":"public/js/marked.min.js","hash":"c9eb834a28665addef7e66ee1a787fa1cbbb43eb","modified":1562055370879},{"_id":"public/js/lg-pager.min.js","hash":"c4f5c7d91c87761f1626ebb411e5ed6d456799f0","modified":1562055370879},{"_id":"public/js/scrollspy.js","hash":"724f9a0e12bd5c6a9d8cbf299ef4255621433cbf","modified":1562055370880},{"_id":"public/js/search.js","hash":"9ac9f869aa245a33f1bd72ea58c8168a2f0e9824","modified":1562055370880},{"_id":"public/js/timeago.min.js","hash":"d220fcc47be00effec6b5181b97cc0929d10031e","modified":1562055370880},{"_id":"public/js/util.js","hash":"f4d0034baaf346b532d1a1602c0b48963a018f23","modified":1562055370880},{"_id":"public/js/lightgallery.min.js","hash":"c2101bab37ebcb47cc21a3b92611493a165e5a79","modified":1562055370880},{"_id":"public/js/jquery.min.js","hash":"0dc32db4aa9c5f03f3b38c47d883dbd4fed13aae","modified":1562055370880},{"_id":"public/js/fontawesome-all.min.js","hash":"d7ff2806086f5924e06910e90a79b44492b52450","modified":1562055370880},{"_id":"public/images/background.png","hash":"c34366140a0250afbd73d62abdc58b1e00e10355","modified":1562055370888},{"_id":"themes/aria/_config.yml","hash":"8adb7a71f8f706ddbc4866b6daf120f4f3f1de42","modified":1562055304598},{"_id":"source/favicons/favicon.ico","hash":"45f96a20283b9bb33c7e73489a3dd08c522709dc","modified":1562055590000},{"_id":"public/atom.xml","hash":"c58e2641431a448073a9b08cc23e176578cf54e9","modified":1562055712725},{"_id":"public/search.xml","hash":"7000a83e9833c1f72f18b7b1754cc76c251a6877","modified":1562055712726},{"_id":"public/favicons/favicon.ico","hash":"45f96a20283b9bb33c7e73489a3dd08c522709dc","modified":1562055712732}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"怎样在Centos7上安装Python3.6","date":"2019-07-02T07:30:45.000Z","_content":"\n## 1.安装ius源\n[ius](https://ius.io/)是一个专门提供经过验证RPM包的第三方社区，很多官方RPM库没有提供的新功能可以在该网站上找到。\n\n    sudo yum install -y https://centos7.iuscommunity.org/ius-release.rpm\n    \n## 2.更新YUM\n\n\tsudo yum update\n\n\n## 3.安装python3包\n\n\tsudo yum install -y python36u python36u-libs python36u-devel python36u-pip\n\n然后就可以尽情使用python3了\n\n    python3.6 -V\n\n\t# Python 3.6.8\n\n    pip3 -V\n\n\t# pip 9.0.1 from /usr/lib/python3.6/site-packages (python 3.6)\n\n添加软链接\n\n    ln -s /usr/bin/python3.6 /usr/bin/python3\n\tln -s /usr/bin/pip3.6 /usr/bin/pip3\n\n现在可以直接使用python3和pip3命令了\n    ","source":"_posts/how-to-install-python3-on-centos7.md","raw":"---\ntitle: 怎样在Centos7上安装Python3.6\ndate: 2019-07-02 15:30:45\ntags: 服务器\n---\n\n## 1.安装ius源\n[ius](https://ius.io/)是一个专门提供经过验证RPM包的第三方社区，很多官方RPM库没有提供的新功能可以在该网站上找到。\n\n    sudo yum install -y https://centos7.iuscommunity.org/ius-release.rpm\n    \n## 2.更新YUM\n\n\tsudo yum update\n\n\n## 3.安装python3包\n\n\tsudo yum install -y python36u python36u-libs python36u-devel python36u-pip\n\n然后就可以尽情使用python3了\n\n    python3.6 -V\n\n\t# Python 3.6.8\n\n    pip3 -V\n\n\t# pip 9.0.1 from /usr/lib/python3.6/site-packages (python 3.6)\n\n添加软链接\n\n    ln -s /usr/bin/python3.6 /usr/bin/python3\n\tln -s /usr/bin/pip3.6 /usr/bin/pip3\n\n现在可以直接使用python3和pip3命令了\n    ","slug":"how-to-install-python3-on-centos7","published":1,"updated":"2019-07-02T08:06:24.746Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjxljfoqi0000ws6yame9r1cs","content":"<h2 id=\"1-安装ius源\"><a href=\"#1-安装ius源\" class=\"headerlink\" title=\"1.安装ius源\"></a>1.安装ius源</h2><p><a href=\"https://ius.io/\" target=\"_blank\" rel=\"noopener\">ius</a>是一个专门提供经过验证RPM包的第三方社区，很多官方RPM库没有提供的新功能可以在该网站上找到。</p>\n<pre><code>sudo yum install -y https://centos7.iuscommunity.org/ius-release.rpm</code></pre><h2 id=\"2-更新YUM\"><a href=\"#2-更新YUM\" class=\"headerlink\" title=\"2.更新YUM\"></a>2.更新YUM</h2><pre><code>sudo yum update</code></pre><h2 id=\"3-安装python3包\"><a href=\"#3-安装python3包\" class=\"headerlink\" title=\"3.安装python3包\"></a>3.安装python3包</h2><pre><code>sudo yum install -y python36u python36u-libs python36u-devel python36u-pip</code></pre><p>然后就可以尽情使用python3了</p>\n<pre><code>python3.6 -V\n\n# Python 3.6.8\n\npip3 -V\n\n# pip 9.0.1 from /usr/lib/python3.6/site-packages (python 3.6)</code></pre><p>添加软链接</p>\n<pre><code>ln -s /usr/bin/python3.6 /usr/bin/python3\nln -s /usr/bin/pip3.6 /usr/bin/pip3</code></pre><p>现在可以直接使用python3和pip3命令了</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-安装ius源\"><a href=\"#1-安装ius源\" class=\"headerlink\" title=\"1.安装ius源\"></a>1.安装ius源</h2><p><a href=\"https://ius.io/\" target=\"_blank\" rel=\"noopener\">ius</a>是一个专门提供经过验证RPM包的第三方社区，很多官方RPM库没有提供的新功能可以在该网站上找到。</p>\n<pre><code>sudo yum install -y https://centos7.iuscommunity.org/ius-release.rpm</code></pre><h2 id=\"2-更新YUM\"><a href=\"#2-更新YUM\" class=\"headerlink\" title=\"2.更新YUM\"></a>2.更新YUM</h2><pre><code>sudo yum update</code></pre><h2 id=\"3-安装python3包\"><a href=\"#3-安装python3包\" class=\"headerlink\" title=\"3.安装python3包\"></a>3.安装python3包</h2><pre><code>sudo yum install -y python36u python36u-libs python36u-devel python36u-pip</code></pre><p>然后就可以尽情使用python3了</p>\n<pre><code>python3.6 -V\n\n# Python 3.6.8\n\npip3 -V\n\n# pip 9.0.1 from /usr/lib/python3.6/site-packages (python 3.6)</code></pre><p>添加软链接</p>\n<pre><code>ln -s /usr/bin/python3.6 /usr/bin/python3\nln -s /usr/bin/pip3.6 /usr/bin/pip3</code></pre><p>现在可以直接使用python3和pip3命令了</p>\n"},{"title":"Vagrant vboxsf error的解决方法","date":"2019-06-28T08:39:44.000Z","_content":"\n# 出错情况\n以前一直用的一个vagrant环境，突然启动出现问题。\nvagrant 运行在windows上，vagrant 启动centos7虚拟机，vagrant up时提示错误，无法将host上的文件夹映射到虚拟机里。\n\n错误信息如下:\n\n\tVagrant was unable to mount VirtualBox shared folders. This is usually\n\tbecause the filesystem \"vboxsf\" is not available. This filesystem is\n\tmade available via the VirtualBox Guest Additions and kernel module.\n\tPlease verify that these guest additions are properly installed in the\n\tguest. This is not a bug in Vagrant and is usually caused by a faulty\n\tVagrant box. For context, the command attempted was:\n\t\n\tmount -t vboxsf -o uid=1000,gid=1000 vagrant /vagrant\n\t\n\tThe error output from the command was:\n\t\n\t/sbin/mount.vboxsf: mounting failed with the error: No such device\n\n## 处理方式\n\n先ssh连进guest\n\n    vagrant ssh\n\n然后\n\n\tcd /opt/VBoxGuestAdditions-*/init  \n\tsudo ./vboxadd setup\n\n提示信息\n\n\tVirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\n\tgrep: Unmatched ) or \\)\n\tThis system is currently not set up to build kernel modules.\n\tPlease install the Linux kernel \"header\" files matching the current kernel\n\tfor adding new hardware support to the system.\n\tThe distribution packages containing the headers are probably:\n\t    kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\n\tVirtualBox Guest Additions: Starting.\n\tVirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\n\tgrep: Unmatched ) or \\)\n\tThis system is currently not set up to build kernel modules.\n\tPlease install the Linux kernel \"header\" files matching the current kernel\n\tfor adding new hardware support to the system.\n\tThe distribution packages containing the headers are probably:\n\t    kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\n\tmodprobe vboxguest failed\n\tThe log file /var/log/vboxadd-setup.log may contain further information.\n\n安装kernel\n\n    sudo yum install kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\n\n重新运行 ./vboxadd setup 提示错误\n\n    VirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\n\tgrep: Unmatched ) or \\)\n\tVirtualBox Guest Additions: Look at /var/log/vboxadd-setup.log to find out what went wrong\n\tVirtualBox Guest Additions: Starting.\n\n/var/log/vboxadd-setup.log:\n  \n\tBuilding the main Guest Additions module.\n\tBuilding the shared folder support module.\n\tBuilding the graphics driver module.\n\tError building the module:\n\tCould not find the X.Org or XFree86 Window System, skipping.\n    \n在虚拟机中安装xorg\n\n    yum -y install xorg-x11-drivers xorg-x11-utils\n\n在host上安装vbguest插件\n\n\tvagrant plugin install vagrant-vbguest\n\n重新启动虚拟机，问题解决\n\t\n\tvagrant reload","source":"_posts/vagrant-vboxsf-error.md","raw":"---\ntitle: Vagrant vboxsf error的解决方法\ndate: 2019-06-28 16:39:44\ntags: 写代码\n---\n\n# 出错情况\n以前一直用的一个vagrant环境，突然启动出现问题。\nvagrant 运行在windows上，vagrant 启动centos7虚拟机，vagrant up时提示错误，无法将host上的文件夹映射到虚拟机里。\n\n错误信息如下:\n\n\tVagrant was unable to mount VirtualBox shared folders. This is usually\n\tbecause the filesystem \"vboxsf\" is not available. This filesystem is\n\tmade available via the VirtualBox Guest Additions and kernel module.\n\tPlease verify that these guest additions are properly installed in the\n\tguest. This is not a bug in Vagrant and is usually caused by a faulty\n\tVagrant box. For context, the command attempted was:\n\t\n\tmount -t vboxsf -o uid=1000,gid=1000 vagrant /vagrant\n\t\n\tThe error output from the command was:\n\t\n\t/sbin/mount.vboxsf: mounting failed with the error: No such device\n\n## 处理方式\n\n先ssh连进guest\n\n    vagrant ssh\n\n然后\n\n\tcd /opt/VBoxGuestAdditions-*/init  \n\tsudo ./vboxadd setup\n\n提示信息\n\n\tVirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\n\tgrep: Unmatched ) or \\)\n\tThis system is currently not set up to build kernel modules.\n\tPlease install the Linux kernel \"header\" files matching the current kernel\n\tfor adding new hardware support to the system.\n\tThe distribution packages containing the headers are probably:\n\t    kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\n\tVirtualBox Guest Additions: Starting.\n\tVirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\n\tgrep: Unmatched ) or \\)\n\tThis system is currently not set up to build kernel modules.\n\tPlease install the Linux kernel \"header\" files matching the current kernel\n\tfor adding new hardware support to the system.\n\tThe distribution packages containing the headers are probably:\n\t    kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\n\tmodprobe vboxguest failed\n\tThe log file /var/log/vboxadd-setup.log may contain further information.\n\n安装kernel\n\n    sudo yum install kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\n\n重新运行 ./vboxadd setup 提示错误\n\n    VirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\n\tgrep: Unmatched ) or \\)\n\tVirtualBox Guest Additions: Look at /var/log/vboxadd-setup.log to find out what went wrong\n\tVirtualBox Guest Additions: Starting.\n\n/var/log/vboxadd-setup.log:\n  \n\tBuilding the main Guest Additions module.\n\tBuilding the shared folder support module.\n\tBuilding the graphics driver module.\n\tError building the module:\n\tCould not find the X.Org or XFree86 Window System, skipping.\n    \n在虚拟机中安装xorg\n\n    yum -y install xorg-x11-drivers xorg-x11-utils\n\n在host上安装vbguest插件\n\n\tvagrant plugin install vagrant-vbguest\n\n重新启动虚拟机，问题解决\n\t\n\tvagrant reload","slug":"vagrant-vboxsf-error","published":1,"updated":"2019-06-28T09:04:47.731Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjxljfoqn0001ws6yanqpm50k","content":"<h1 id=\"出错情况\"><a href=\"#出错情况\" class=\"headerlink\" title=\"出错情况\"></a>出错情况</h1><p>以前一直用的一个vagrant环境，突然启动出现问题。<br>vagrant 运行在windows上，vagrant 启动centos7虚拟机，vagrant up时提示错误，无法将host上的文件夹映射到虚拟机里。</p>\n<p>错误信息如下:</p>\n<pre><code>Vagrant was unable to mount VirtualBox shared folders. This is usually\nbecause the filesystem &quot;vboxsf&quot; is not available. This filesystem is\nmade available via the VirtualBox Guest Additions and kernel module.\nPlease verify that these guest additions are properly installed in the\nguest. This is not a bug in Vagrant and is usually caused by a faulty\nVagrant box. For context, the command attempted was:\n\nmount -t vboxsf -o uid=1000,gid=1000 vagrant /vagrant\n\nThe error output from the command was:\n\n/sbin/mount.vboxsf: mounting failed with the error: No such device</code></pre><h2 id=\"处理方式\"><a href=\"#处理方式\" class=\"headerlink\" title=\"处理方式\"></a>处理方式</h2><p>先ssh连进guest</p>\n<pre><code>vagrant ssh</code></pre><p>然后</p>\n<pre><code>cd /opt/VBoxGuestAdditions-*/init  \nsudo ./vboxadd setup</code></pre><p>提示信息</p>\n<pre><code>VirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\ngrep: Unmatched ) or \\)\nThis system is currently not set up to build kernel modules.\nPlease install the Linux kernel &quot;header&quot; files matching the current kernel\nfor adding new hardware support to the system.\nThe distribution packages containing the headers are probably:\n    kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\nVirtualBox Guest Additions: Starting.\nVirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\ngrep: Unmatched ) or \\)\nThis system is currently not set up to build kernel modules.\nPlease install the Linux kernel &quot;header&quot; files matching the current kernel\nfor adding new hardware support to the system.\nThe distribution packages containing the headers are probably:\n    kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\nmodprobe vboxguest failed\nThe log file /var/log/vboxadd-setup.log may contain further information.</code></pre><p>安装kernel</p>\n<pre><code>sudo yum install kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64</code></pre><p>重新运行 ./vboxadd setup 提示错误</p>\n<pre><code>VirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\ngrep: Unmatched ) or \\)\nVirtualBox Guest Additions: Look at /var/log/vboxadd-setup.log to find out what went wrong\nVirtualBox Guest Additions: Starting.</code></pre><p>/var/log/vboxadd-setup.log:</p>\n<pre><code>Building the main Guest Additions module.\nBuilding the shared folder support module.\nBuilding the graphics driver module.\nError building the module:\nCould not find the X.Org or XFree86 Window System, skipping.</code></pre><p>在虚拟机中安装xorg</p>\n<pre><code>yum -y install xorg-x11-drivers xorg-x11-utils</code></pre><p>在host上安装vbguest插件</p>\n<pre><code>vagrant plugin install vagrant-vbguest</code></pre><p>重新启动虚拟机，问题解决</p>\n<pre><code>vagrant reload</code></pre>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"出错情况\"><a href=\"#出错情况\" class=\"headerlink\" title=\"出错情况\"></a>出错情况</h1><p>以前一直用的一个vagrant环境，突然启动出现问题。<br>vagrant 运行在windows上，vagrant 启动centos7虚拟机，vagrant up时提示错误，无法将host上的文件夹映射到虚拟机里。</p>\n<p>错误信息如下:</p>\n<pre><code>Vagrant was unable to mount VirtualBox shared folders. This is usually\nbecause the filesystem &quot;vboxsf&quot; is not available. This filesystem is\nmade available via the VirtualBox Guest Additions and kernel module.\nPlease verify that these guest additions are properly installed in the\nguest. This is not a bug in Vagrant and is usually caused by a faulty\nVagrant box. For context, the command attempted was:\n\nmount -t vboxsf -o uid=1000,gid=1000 vagrant /vagrant\n\nThe error output from the command was:\n\n/sbin/mount.vboxsf: mounting failed with the error: No such device</code></pre><h2 id=\"处理方式\"><a href=\"#处理方式\" class=\"headerlink\" title=\"处理方式\"></a>处理方式</h2><p>先ssh连进guest</p>\n<pre><code>vagrant ssh</code></pre><p>然后</p>\n<pre><code>cd /opt/VBoxGuestAdditions-*/init  \nsudo ./vboxadd setup</code></pre><p>提示信息</p>\n<pre><code>VirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\ngrep: Unmatched ) or \\)\nThis system is currently not set up to build kernel modules.\nPlease install the Linux kernel &quot;header&quot; files matching the current kernel\nfor adding new hardware support to the system.\nThe distribution packages containing the headers are probably:\n    kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\nVirtualBox Guest Additions: Starting.\nVirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\ngrep: Unmatched ) or \\)\nThis system is currently not set up to build kernel modules.\nPlease install the Linux kernel &quot;header&quot; files matching the current kernel\nfor adding new hardware support to the system.\nThe distribution packages containing the headers are probably:\n    kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64\nmodprobe vboxguest failed\nThe log file /var/log/vboxadd-setup.log may contain further information.</code></pre><p>安装kernel</p>\n<pre><code>sudo yum install kernel-devel kernel-devel-3.10.0-957.21.3.el7.x86_64</code></pre><p>重新运行 ./vboxadd setup 提示错误</p>\n<pre><code>VirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel modules.  This may take a while.\ngrep: Unmatched ) or \\)\nVirtualBox Guest Additions: Look at /var/log/vboxadd-setup.log to find out what went wrong\nVirtualBox Guest Additions: Starting.</code></pre><p>/var/log/vboxadd-setup.log:</p>\n<pre><code>Building the main Guest Additions module.\nBuilding the shared folder support module.\nBuilding the graphics driver module.\nError building the module:\nCould not find the X.Org or XFree86 Window System, skipping.</code></pre><p>在虚拟机中安装xorg</p>\n<pre><code>yum -y install xorg-x11-drivers xorg-x11-utils</code></pre><p>在host上安装vbguest插件</p>\n<pre><code>vagrant plugin install vagrant-vbguest</code></pre><p>重新启动虚拟机，问题解决</p>\n<pre><code>vagrant reload</code></pre>"},{"title":"install_twisted_on_windows","date":"2019-07-01T04:13:28.000Z","_content":"\nTwisted库是比较流行的一个异步操作库，实现了大量的网络协议，scrapy就是基于Twisted实现异步操作和网络通讯。文末有彩蛋。\n\n## 方法1.源代码安装\n\nTwisted默认源代码安装需要在本地编译c代码，需要安装VC\n\n\tpip install twisted\n\n## 方法2.第三方预编译包\nhttps://www.lfd.uci.edu网站上提供了大非官方提供的windows平台二进制python包，很多无法直接安装的库可以在这里找到平台专用包。\n\n打开该页面，Ctrl+F打开搜索框，输入要查找的包名称即可快速找到安装包。\n\ntwisted的版本如下。\n\nhttps://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted\n\n截至发稿最新版本Twisted19.2.1的安装包连接如下\n\n### python27 Win64\n\n    pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp27-cp27m-win_amd64.whl\n\n### python27 Win32 \n\n    \n\tpip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp27-cp27m-win32.whl\n\n### python37 Win64\n  \n    pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp37-cp37m-win_amd64.whl\n\n### python37 Win32\n\n    pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp37-cp37m-win32.whl\n\n其他版本可以自行查找下载。\n\n## 方法3(推荐）\n\n官方最新提供了支持pip安装方式，如下\n\n    pip install Twisted[windows_platform]\n\n一键安装，从此无烦恼。\n\n\n## 小彩蛋\n通过twisted可以快速建立各种简易的网络服务器，比如启动一个本地测试用的FTP服务器代码如下：\n\nftpserver.py:\n\n    # Copyright (c) Twisted Matrix Laboratories.\n\t# See LICENSE for details.\n\t\n\t\"\"\"\n\tAn example FTP server with minimal user authentication.\n\t\"\"\"\n\t\n\tfrom twisted.protocols.ftp import FTPFactory, FTPRealm, BaseFTPRealm\n\tfrom twisted.cred.portal import Portal\n\tfrom twisted.cred.checkers import AllowAnonymousAccess, FilePasswordDB\n\tfrom twisted.internet import reactor\n\tfrom twisted.python import log, failure, filepath\n\t\n\t\"\"\"\n\tAn example FTP server with minimal user authentication.\n\t\"\"\"\n\t\n\t#\n\t# First, set up a portal (twisted.cred.portal.Portal). This will be used\n\t# to authenticate user logins, including anonymous logins.\n\t#\n\t# Part of this will be to establish the \"realm\" of the server - the most\n\t# important task in this case is to establish where anonymous users will\n\t# have default access to. In a real world scenario this would typically\n\t# point to something like '/pub' but for this example it is pointed at the\n\t# current working directory.\n\t#\n\t# The other important part of the portal setup is to point it to a list of\n\t# credential checkers. In this case, the first of these is used to grant\n\t# access to anonymous users and is relatively simple; the second is a very\n\t# primitive password checker.  This example uses a plain text password file\n\t# that has one username:password pair per line. This checker *does* provide\n\t# a hashing interface, and one would normally want to use it instead of\n\t# plain text storage for anything remotely resembling a 'live' network. In\n\t# this case, the file \"pass.dat\" is used, and stored in the same directory\n\t# as the server. BAD.\n\t#\n\t# Create a pass.dat file which looks like this:\n\t#\n\t# =====================\n\t#   jeff:bozo\n\t#   grimmtooth:bozo2\n\t# =====================\n\tclass LocalFTPRealm(BaseFTPRealm):\n\t    def __init__(self):\n\t        self.userHome = filepath.FilePath('./HOME')\n\t           \n\t    def getHomeDirectory(self, avatarId):\n\t        return self.userHome\n\tp = Portal(LocalFTPRealm(),\n\t           [AllowAnonymousAccess(), FilePasswordDB('./auth', cache=True)])\n\t#\n\t# Once the portal is set up, start up the FTPFactory and pass the portal to\n\t# it on startup. FTPFactory will start up a twisted.protocols.ftp.FTP()\n\t# handler for each incoming OPEN request. Business as usual in Twisted land.\n\t#\n\tf = FTPFactory(p)\n\t\n\t#\n\t# You know this part. Point the reactor to port 21 coupled with the above factory,\n\t# and start the event loop.\n\t#\n\treactor.listenTCP(21, f)\n\treactor.run()\n\nftp同一文件夹下创建一个auth文件，每行一个用户，用户名和密码用冒号:分割。\n\nauth:\n\n    abc:123\n\nFTP根目录对应当前文件夹下的HOME文件夹，Enjoy.","source":"_posts/install-twisted-on-windows.md","raw":"---\ntitle: install_twisted_on_windows\ndate: 2019-07-01 12:13:28\ntags:\n---\n\nTwisted库是比较流行的一个异步操作库，实现了大量的网络协议，scrapy就是基于Twisted实现异步操作和网络通讯。文末有彩蛋。\n\n## 方法1.源代码安装\n\nTwisted默认源代码安装需要在本地编译c代码，需要安装VC\n\n\tpip install twisted\n\n## 方法2.第三方预编译包\nhttps://www.lfd.uci.edu网站上提供了大非官方提供的windows平台二进制python包，很多无法直接安装的库可以在这里找到平台专用包。\n\n打开该页面，Ctrl+F打开搜索框，输入要查找的包名称即可快速找到安装包。\n\ntwisted的版本如下。\n\nhttps://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted\n\n截至发稿最新版本Twisted19.2.1的安装包连接如下\n\n### python27 Win64\n\n    pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp27-cp27m-win_amd64.whl\n\n### python27 Win32 \n\n    \n\tpip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp27-cp27m-win32.whl\n\n### python37 Win64\n  \n    pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp37-cp37m-win_amd64.whl\n\n### python37 Win32\n\n    pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp37-cp37m-win32.whl\n\n其他版本可以自行查找下载。\n\n## 方法3(推荐）\n\n官方最新提供了支持pip安装方式，如下\n\n    pip install Twisted[windows_platform]\n\n一键安装，从此无烦恼。\n\n\n## 小彩蛋\n通过twisted可以快速建立各种简易的网络服务器，比如启动一个本地测试用的FTP服务器代码如下：\n\nftpserver.py:\n\n    # Copyright (c) Twisted Matrix Laboratories.\n\t# See LICENSE for details.\n\t\n\t\"\"\"\n\tAn example FTP server with minimal user authentication.\n\t\"\"\"\n\t\n\tfrom twisted.protocols.ftp import FTPFactory, FTPRealm, BaseFTPRealm\n\tfrom twisted.cred.portal import Portal\n\tfrom twisted.cred.checkers import AllowAnonymousAccess, FilePasswordDB\n\tfrom twisted.internet import reactor\n\tfrom twisted.python import log, failure, filepath\n\t\n\t\"\"\"\n\tAn example FTP server with minimal user authentication.\n\t\"\"\"\n\t\n\t#\n\t# First, set up a portal (twisted.cred.portal.Portal). This will be used\n\t# to authenticate user logins, including anonymous logins.\n\t#\n\t# Part of this will be to establish the \"realm\" of the server - the most\n\t# important task in this case is to establish where anonymous users will\n\t# have default access to. In a real world scenario this would typically\n\t# point to something like '/pub' but for this example it is pointed at the\n\t# current working directory.\n\t#\n\t# The other important part of the portal setup is to point it to a list of\n\t# credential checkers. In this case, the first of these is used to grant\n\t# access to anonymous users and is relatively simple; the second is a very\n\t# primitive password checker.  This example uses a plain text password file\n\t# that has one username:password pair per line. This checker *does* provide\n\t# a hashing interface, and one would normally want to use it instead of\n\t# plain text storage for anything remotely resembling a 'live' network. In\n\t# this case, the file \"pass.dat\" is used, and stored in the same directory\n\t# as the server. BAD.\n\t#\n\t# Create a pass.dat file which looks like this:\n\t#\n\t# =====================\n\t#   jeff:bozo\n\t#   grimmtooth:bozo2\n\t# =====================\n\tclass LocalFTPRealm(BaseFTPRealm):\n\t    def __init__(self):\n\t        self.userHome = filepath.FilePath('./HOME')\n\t           \n\t    def getHomeDirectory(self, avatarId):\n\t        return self.userHome\n\tp = Portal(LocalFTPRealm(),\n\t           [AllowAnonymousAccess(), FilePasswordDB('./auth', cache=True)])\n\t#\n\t# Once the portal is set up, start up the FTPFactory and pass the portal to\n\t# it on startup. FTPFactory will start up a twisted.protocols.ftp.FTP()\n\t# handler for each incoming OPEN request. Business as usual in Twisted land.\n\t#\n\tf = FTPFactory(p)\n\t\n\t#\n\t# You know this part. Point the reactor to port 21 coupled with the above factory,\n\t# and start the event loop.\n\t#\n\treactor.listenTCP(21, f)\n\treactor.run()\n\nftp同一文件夹下创建一个auth文件，每行一个用户，用户名和密码用冒号:分割。\n\nauth:\n\n    abc:123\n\nFTP根目录对应当前文件夹下的HOME文件夹，Enjoy.","slug":"install-twisted-on-windows","published":1,"updated":"2019-07-02T07:57:51.603Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjxljfoqr0003ws6ypznys50y","content":"<p>Twisted库是比较流行的一个异步操作库，实现了大量的网络协议，scrapy就是基于Twisted实现异步操作和网络通讯。文末有彩蛋。</p>\n<h2 id=\"方法1-源代码安装\"><a href=\"#方法1-源代码安装\" class=\"headerlink\" title=\"方法1.源代码安装\"></a>方法1.源代码安装</h2><p>Twisted默认源代码安装需要在本地编译c代码，需要安装VC</p>\n<pre><code>pip install twisted</code></pre><h2 id=\"方法2-第三方预编译包\"><a href=\"#方法2-第三方预编译包\" class=\"headerlink\" title=\"方法2.第三方预编译包\"></a>方法2.第三方预编译包</h2><p><a href=\"https://www.lfd.uci.edu网站上提供了大非官方提供的windows平台二进制python包，很多无法直接安装的库可以在这里找到平台专用包。\" target=\"_blank\" rel=\"noopener\">https://www.lfd.uci.edu网站上提供了大非官方提供的windows平台二进制python包，很多无法直接安装的库可以在这里找到平台专用包。</a></p>\n<p>打开该页面，Ctrl+F打开搜索框，输入要查找的包名称即可快速找到安装包。</p>\n<p>twisted的版本如下。</p>\n<p><a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted\" target=\"_blank\" rel=\"noopener\">https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted</a></p>\n<p>截至发稿最新版本Twisted19.2.1的安装包连接如下</p>\n<h3 id=\"python27-Win64\"><a href=\"#python27-Win64\" class=\"headerlink\" title=\"python27 Win64\"></a>python27 Win64</h3><pre><code>pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp27-cp27m-win_amd64.whl</code></pre><h3 id=\"python27-Win32\"><a href=\"#python27-Win32\" class=\"headerlink\" title=\"python27 Win32\"></a>python27 Win32</h3><pre><code>pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp27-cp27m-win32.whl</code></pre><h3 id=\"python37-Win64\"><a href=\"#python37-Win64\" class=\"headerlink\" title=\"python37 Win64\"></a>python37 Win64</h3><pre><code>pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp37-cp37m-win_amd64.whl</code></pre><h3 id=\"python37-Win32\"><a href=\"#python37-Win32\" class=\"headerlink\" title=\"python37 Win32\"></a>python37 Win32</h3><pre><code>pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp37-cp37m-win32.whl</code></pre><p>其他版本可以自行查找下载。</p>\n<h2 id=\"方法3-推荐）\"><a href=\"#方法3-推荐）\" class=\"headerlink\" title=\"方法3(推荐）\"></a>方法3(推荐）</h2><p>官方最新提供了支持pip安装方式，如下</p>\n<pre><code>pip install Twisted[windows_platform]</code></pre><p>一键安装，从此无烦恼。</p>\n<h2 id=\"小彩蛋\"><a href=\"#小彩蛋\" class=\"headerlink\" title=\"小彩蛋\"></a>小彩蛋</h2><p>通过twisted可以快速建立各种简易的网络服务器，比如启动一个本地测试用的FTP服务器代码如下：</p>\n<p>ftpserver.py:</p>\n<pre><code># Copyright (c) Twisted Matrix Laboratories.\n# See LICENSE for details.\n\n&quot;&quot;&quot;\nAn example FTP server with minimal user authentication.\n&quot;&quot;&quot;\n\nfrom twisted.protocols.ftp import FTPFactory, FTPRealm, BaseFTPRealm\nfrom twisted.cred.portal import Portal\nfrom twisted.cred.checkers import AllowAnonymousAccess, FilePasswordDB\nfrom twisted.internet import reactor\nfrom twisted.python import log, failure, filepath\n\n&quot;&quot;&quot;\nAn example FTP server with minimal user authentication.\n&quot;&quot;&quot;\n\n#\n# First, set up a portal (twisted.cred.portal.Portal). This will be used\n# to authenticate user logins, including anonymous logins.\n#\n# Part of this will be to establish the &quot;realm&quot; of the server - the most\n# important task in this case is to establish where anonymous users will\n# have default access to. In a real world scenario this would typically\n# point to something like &apos;/pub&apos; but for this example it is pointed at the\n# current working directory.\n#\n# The other important part of the portal setup is to point it to a list of\n# credential checkers. In this case, the first of these is used to grant\n# access to anonymous users and is relatively simple; the second is a very\n# primitive password checker.  This example uses a plain text password file\n# that has one username:password pair per line. This checker *does* provide\n# a hashing interface, and one would normally want to use it instead of\n# plain text storage for anything remotely resembling a &apos;live&apos; network. In\n# this case, the file &quot;pass.dat&quot; is used, and stored in the same directory\n# as the server. BAD.\n#\n# Create a pass.dat file which looks like this:\n#\n# =====================\n#   jeff:bozo\n#   grimmtooth:bozo2\n# =====================\nclass LocalFTPRealm(BaseFTPRealm):\n    def __init__(self):\n        self.userHome = filepath.FilePath(&apos;./HOME&apos;)\n\n    def getHomeDirectory(self, avatarId):\n        return self.userHome\np = Portal(LocalFTPRealm(),\n           [AllowAnonymousAccess(), FilePasswordDB(&apos;./auth&apos;, cache=True)])\n#\n# Once the portal is set up, start up the FTPFactory and pass the portal to\n# it on startup. FTPFactory will start up a twisted.protocols.ftp.FTP()\n# handler for each incoming OPEN request. Business as usual in Twisted land.\n#\nf = FTPFactory(p)\n\n#\n# You know this part. Point the reactor to port 21 coupled with the above factory,\n# and start the event loop.\n#\nreactor.listenTCP(21, f)\nreactor.run()</code></pre><p>ftp同一文件夹下创建一个auth文件，每行一个用户，用户名和密码用冒号:分割。</p>\n<p>auth:</p>\n<pre><code>abc:123</code></pre><p>FTP根目录对应当前文件夹下的HOME文件夹，Enjoy.</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Twisted库是比较流行的一个异步操作库，实现了大量的网络协议，scrapy就是基于Twisted实现异步操作和网络通讯。文末有彩蛋。</p>\n<h2 id=\"方法1-源代码安装\"><a href=\"#方法1-源代码安装\" class=\"headerlink\" title=\"方法1.源代码安装\"></a>方法1.源代码安装</h2><p>Twisted默认源代码安装需要在本地编译c代码，需要安装VC</p>\n<pre><code>pip install twisted</code></pre><h2 id=\"方法2-第三方预编译包\"><a href=\"#方法2-第三方预编译包\" class=\"headerlink\" title=\"方法2.第三方预编译包\"></a>方法2.第三方预编译包</h2><p><a href=\"https://www.lfd.uci.edu网站上提供了大非官方提供的windows平台二进制python包，很多无法直接安装的库可以在这里找到平台专用包。\" target=\"_blank\" rel=\"noopener\">https://www.lfd.uci.edu网站上提供了大非官方提供的windows平台二进制python包，很多无法直接安装的库可以在这里找到平台专用包。</a></p>\n<p>打开该页面，Ctrl+F打开搜索框，输入要查找的包名称即可快速找到安装包。</p>\n<p>twisted的版本如下。</p>\n<p><a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted\" target=\"_blank\" rel=\"noopener\">https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted</a></p>\n<p>截至发稿最新版本Twisted19.2.1的安装包连接如下</p>\n<h3 id=\"python27-Win64\"><a href=\"#python27-Win64\" class=\"headerlink\" title=\"python27 Win64\"></a>python27 Win64</h3><pre><code>pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp27-cp27m-win_amd64.whl</code></pre><h3 id=\"python27-Win32\"><a href=\"#python27-Win32\" class=\"headerlink\" title=\"python27 Win32\"></a>python27 Win32</h3><pre><code>pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp27-cp27m-win32.whl</code></pre><h3 id=\"python37-Win64\"><a href=\"#python37-Win64\" class=\"headerlink\" title=\"python37 Win64\"></a>python37 Win64</h3><pre><code>pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp37-cp37m-win_amd64.whl</code></pre><h3 id=\"python37-Win32\"><a href=\"#python37-Win32\" class=\"headerlink\" title=\"python37 Win32\"></a>python37 Win32</h3><pre><code>pip install https://download.lfd.uci.edu/pythonlibs/t4jqbe6o/Twisted-19.2.1-cp37-cp37m-win32.whl</code></pre><p>其他版本可以自行查找下载。</p>\n<h2 id=\"方法3-推荐）\"><a href=\"#方法3-推荐）\" class=\"headerlink\" title=\"方法3(推荐）\"></a>方法3(推荐）</h2><p>官方最新提供了支持pip安装方式，如下</p>\n<pre><code>pip install Twisted[windows_platform]</code></pre><p>一键安装，从此无烦恼。</p>\n<h2 id=\"小彩蛋\"><a href=\"#小彩蛋\" class=\"headerlink\" title=\"小彩蛋\"></a>小彩蛋</h2><p>通过twisted可以快速建立各种简易的网络服务器，比如启动一个本地测试用的FTP服务器代码如下：</p>\n<p>ftpserver.py:</p>\n<pre><code># Copyright (c) Twisted Matrix Laboratories.\n# See LICENSE for details.\n\n&quot;&quot;&quot;\nAn example FTP server with minimal user authentication.\n&quot;&quot;&quot;\n\nfrom twisted.protocols.ftp import FTPFactory, FTPRealm, BaseFTPRealm\nfrom twisted.cred.portal import Portal\nfrom twisted.cred.checkers import AllowAnonymousAccess, FilePasswordDB\nfrom twisted.internet import reactor\nfrom twisted.python import log, failure, filepath\n\n&quot;&quot;&quot;\nAn example FTP server with minimal user authentication.\n&quot;&quot;&quot;\n\n#\n# First, set up a portal (twisted.cred.portal.Portal). This will be used\n# to authenticate user logins, including anonymous logins.\n#\n# Part of this will be to establish the &quot;realm&quot; of the server - the most\n# important task in this case is to establish where anonymous users will\n# have default access to. In a real world scenario this would typically\n# point to something like &apos;/pub&apos; but for this example it is pointed at the\n# current working directory.\n#\n# The other important part of the portal setup is to point it to a list of\n# credential checkers. In this case, the first of these is used to grant\n# access to anonymous users and is relatively simple; the second is a very\n# primitive password checker.  This example uses a plain text password file\n# that has one username:password pair per line. This checker *does* provide\n# a hashing interface, and one would normally want to use it instead of\n# plain text storage for anything remotely resembling a &apos;live&apos; network. In\n# this case, the file &quot;pass.dat&quot; is used, and stored in the same directory\n# as the server. BAD.\n#\n# Create a pass.dat file which looks like this:\n#\n# =====================\n#   jeff:bozo\n#   grimmtooth:bozo2\n# =====================\nclass LocalFTPRealm(BaseFTPRealm):\n    def __init__(self):\n        self.userHome = filepath.FilePath(&apos;./HOME&apos;)\n\n    def getHomeDirectory(self, avatarId):\n        return self.userHome\np = Portal(LocalFTPRealm(),\n           [AllowAnonymousAccess(), FilePasswordDB(&apos;./auth&apos;, cache=True)])\n#\n# Once the portal is set up, start up the FTPFactory and pass the portal to\n# it on startup. FTPFactory will start up a twisted.protocols.ftp.FTP()\n# handler for each incoming OPEN request. Business as usual in Twisted land.\n#\nf = FTPFactory(p)\n\n#\n# You know this part. Point the reactor to port 21 coupled with the above factory,\n# and start the event loop.\n#\nreactor.listenTCP(21, f)\nreactor.run()</code></pre><p>ftp同一文件夹下创建一个auth文件，每行一个用户，用户名和密码用冒号:分割。</p>\n<p>auth:</p>\n<pre><code>abc:123</code></pre><p>FTP根目录对应当前文件夹下的HOME文件夹，Enjoy.</p>\n"},{"title":"Redis Zset 实现原理","date":"2019-06-28T01:30:23.000Z","_content":"\n# Redis TTL\n\nRedis 只在key一级上有TTL (Time to live) 机制，[https://redis.io/commands/expire](https://redis.io/commands/expire \"Expire Command\")，有的时候我们需要把item按某种顺序排序，如排行榜或移动时间窗口，这个时候使用Sorted Set(Zset)就非常有用了。\n\n# Redis Zset 按时间过期机制\n\n_1. zadd 添加item时设置score为当前unixtime\n__1.1. 如果只以第一次插入时间戳做删除则指定nx=true, [https://redis.io/commands/zadd](https://redis.io/commands/zadd)\n__1.2. 如果需要更新已经存在item时间戳为当前时间TTL则指定默认选项，score设置为当前unittime\n__1.3. 如果每次需要延长固定时间，检查item存在时使用ZINCRBY命令\n_2. 定时做清理任务，每次计算删除某个时间点之前的所有item  zremrangebyscore\n\n\n# Redis Zset 命令时间复杂度\n\nCommand Complexities of Zset and Set\n\n|                      \t| Zset        \t| Set  \t|\n|----------------------\t|-------------\t|------\t|\n| Add                  \t| O(log(N))   \t| O(1) \t|\n| Delete (1 items)     \t| O(log(N))   \t| O(1) \t|\n| Iterate items by key \t| O(log(N)+M) \t| O(N) \t|\n| Scan by score        \t| O(log(N)+M) \t| N/A  \t|\n\n可以看出zset单个元素操作一般为Log(N)其中N为当前集合元素个数。\n\n# Redis Zset 底层结构及算法实现\n与set无顺序存储不同，Zset按score顺序进行存储，这也是为什么基本操作都是O(log(N))复杂度。\n\nRedis使用两种结构存储zset，在数据个数较少时使用ziplist，数量超出阈值时使用skiplist，阈值通过zset-max-ziplist-entries and zset-max-ziplist-value设置。\n\n## ziplist\nziplist使用连续空间存储双向链表，相比基于堆空间指针的链表前后向移动速度更快。\n\n![](https://redislabs.com/wp-content/images/academy/redis-in-action/RIA_fig9-01.svg)\n\nreids list也是使用ziplist存储。\n\n## skiplist\nskiplist 跳跃列表:\n\n    /* ZSETs use a specialized version of Skiplists */\n\ttypedef struct zskiplistNode {\n\t    sds ele;\n\t    double score;\n\t    struct zskiplistNode *backward;\n\t    struct zskiplistLevel {\n\t        struct zskiplistNode *forward;\n\t        unsigned long span;\n\t    } level[];\n\t} zskiplistNode;\n\t\n\ttypedef struct zskiplist {\n\t    struct zskiplistNode *header, *tail;\n\t    unsigned long length;\n\t    int level;\n\t} zskiplist;\n\t\n\ttypedef struct zset {\n\t    dict *dict;\n\t    zskiplist *zsl;\n\t} zset;\n\n跳跃列表保存一个有序排列的链表，通过采用多层存储且保持每一层链表是其上一层链表的自己，从最稀疏的层开始搜索，从而达到比链表O(N)更优的查找和插入性能O(log(N))。\n\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Skip_list_add_element-en.gif/600px-Skip_list_add_element-en.gif)\n\n具体说明参见[wiki](https://en.wikipedia.org/wiki/Skip_list)","source":"_posts/Redis-Zset-实现原理.md","raw":"---\ntitle: Redis Zset 实现原理\ndate: 2019-06-28 09:30:23\ntags: Redis\n---\n\n# Redis TTL\n\nRedis 只在key一级上有TTL (Time to live) 机制，[https://redis.io/commands/expire](https://redis.io/commands/expire \"Expire Command\")，有的时候我们需要把item按某种顺序排序，如排行榜或移动时间窗口，这个时候使用Sorted Set(Zset)就非常有用了。\n\n# Redis Zset 按时间过期机制\n\n_1. zadd 添加item时设置score为当前unixtime\n__1.1. 如果只以第一次插入时间戳做删除则指定nx=true, [https://redis.io/commands/zadd](https://redis.io/commands/zadd)\n__1.2. 如果需要更新已经存在item时间戳为当前时间TTL则指定默认选项，score设置为当前unittime\n__1.3. 如果每次需要延长固定时间，检查item存在时使用ZINCRBY命令\n_2. 定时做清理任务，每次计算删除某个时间点之前的所有item  zremrangebyscore\n\n\n# Redis Zset 命令时间复杂度\n\nCommand Complexities of Zset and Set\n\n|                      \t| Zset        \t| Set  \t|\n|----------------------\t|-------------\t|------\t|\n| Add                  \t| O(log(N))   \t| O(1) \t|\n| Delete (1 items)     \t| O(log(N))   \t| O(1) \t|\n| Iterate items by key \t| O(log(N)+M) \t| O(N) \t|\n| Scan by score        \t| O(log(N)+M) \t| N/A  \t|\n\n可以看出zset单个元素操作一般为Log(N)其中N为当前集合元素个数。\n\n# Redis Zset 底层结构及算法实现\n与set无顺序存储不同，Zset按score顺序进行存储，这也是为什么基本操作都是O(log(N))复杂度。\n\nRedis使用两种结构存储zset，在数据个数较少时使用ziplist，数量超出阈值时使用skiplist，阈值通过zset-max-ziplist-entries and zset-max-ziplist-value设置。\n\n## ziplist\nziplist使用连续空间存储双向链表，相比基于堆空间指针的链表前后向移动速度更快。\n\n![](https://redislabs.com/wp-content/images/academy/redis-in-action/RIA_fig9-01.svg)\n\nreids list也是使用ziplist存储。\n\n## skiplist\nskiplist 跳跃列表:\n\n    /* ZSETs use a specialized version of Skiplists */\n\ttypedef struct zskiplistNode {\n\t    sds ele;\n\t    double score;\n\t    struct zskiplistNode *backward;\n\t    struct zskiplistLevel {\n\t        struct zskiplistNode *forward;\n\t        unsigned long span;\n\t    } level[];\n\t} zskiplistNode;\n\t\n\ttypedef struct zskiplist {\n\t    struct zskiplistNode *header, *tail;\n\t    unsigned long length;\n\t    int level;\n\t} zskiplist;\n\t\n\ttypedef struct zset {\n\t    dict *dict;\n\t    zskiplist *zsl;\n\t} zset;\n\n跳跃列表保存一个有序排列的链表，通过采用多层存储且保持每一层链表是其上一层链表的自己，从最稀疏的层开始搜索，从而达到比链表O(N)更优的查找和插入性能O(log(N))。\n\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Skip_list_add_element-en.gif/600px-Skip_list_add_element-en.gif)\n\n具体说明参见[wiki](https://en.wikipedia.org/wiki/Skip_list)","slug":"Redis-Zset-实现原理","published":1,"updated":"2019-06-28T06:38:37.592Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjxljfoqx0007ws6ynywcs50q","content":"<h1 id=\"Redis-TTL\"><a href=\"#Redis-TTL\" class=\"headerlink\" title=\"Redis TTL\"></a>Redis TTL</h1><p>Redis 只在key一级上有TTL (Time to live) 机制，<a href=\"https://redis.io/commands/expire\" title=\"Expire Command\" target=\"_blank\" rel=\"noopener\">https://redis.io/commands/expire</a>，有的时候我们需要把item按某种顺序排序，如排行榜或移动时间窗口，这个时候使用Sorted Set(Zset)就非常有用了。</p>\n<h1 id=\"Redis-Zset-按时间过期机制\"><a href=\"#Redis-Zset-按时间过期机制\" class=\"headerlink\" title=\"Redis Zset 按时间过期机制\"></a>Redis Zset 按时间过期机制</h1><p>_1. zadd 添加item时设置score为当前unixtime<br>__1.1. 如果只以第一次插入时间戳做删除则指定nx=true, <a href=\"https://redis.io/commands/zadd\" target=\"_blank\" rel=\"noopener\">https://redis.io/commands/zadd</a><br>__1.2. 如果需要更新已经存在item时间戳为当前时间TTL则指定默认选项，score设置为当前unittime<br>__1.3. 如果每次需要延长固定时间，检查item存在时使用ZINCRBY命令<br>_2. 定时做清理任务，每次计算删除某个时间点之前的所有item  zremrangebyscore</p>\n<h1 id=\"Redis-Zset-命令时间复杂度\"><a href=\"#Redis-Zset-命令时间复杂度\" class=\"headerlink\" title=\"Redis Zset 命令时间复杂度\"></a>Redis Zset 命令时间复杂度</h1><p>Command Complexities of Zset and Set</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Zset</th>\n<th>Set</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Add</td>\n<td>O(log(N))</td>\n<td>O(1)</td>\n</tr>\n<tr>\n<td>Delete (1 items)</td>\n<td>O(log(N))</td>\n<td>O(1)</td>\n</tr>\n<tr>\n<td>Iterate items by key</td>\n<td>O(log(N)+M)</td>\n<td>O(N)</td>\n</tr>\n<tr>\n<td>Scan by score</td>\n<td>O(log(N)+M)</td>\n<td>N/A</td>\n</tr>\n</tbody></table>\n<p>可以看出zset单个元素操作一般为Log(N)其中N为当前集合元素个数。</p>\n<h1 id=\"Redis-Zset-底层结构及算法实现\"><a href=\"#Redis-Zset-底层结构及算法实现\" class=\"headerlink\" title=\"Redis Zset 底层结构及算法实现\"></a>Redis Zset 底层结构及算法实现</h1><p>与set无顺序存储不同，Zset按score顺序进行存储，这也是为什么基本操作都是O(log(N))复杂度。</p>\n<p>Redis使用两种结构存储zset，在数据个数较少时使用ziplist，数量超出阈值时使用skiplist，阈值通过zset-max-ziplist-entries and zset-max-ziplist-value设置。</p>\n<h2 id=\"ziplist\"><a href=\"#ziplist\" class=\"headerlink\" title=\"ziplist\"></a>ziplist</h2><p>ziplist使用连续空间存储双向链表，相比基于堆空间指针的链表前后向移动速度更快。</p>\n<p><img src=\"https://redislabs.com/wp-content/images/academy/redis-in-action/RIA_fig9-01.svg\" alt></p>\n<p>reids list也是使用ziplist存储。</p>\n<h2 id=\"skiplist\"><a href=\"#skiplist\" class=\"headerlink\" title=\"skiplist\"></a>skiplist</h2><p>skiplist 跳跃列表:</p>\n<pre><code>/* ZSETs use a specialized version of Skiplists */\ntypedef struct zskiplistNode {\n    sds ele;\n    double score;\n    struct zskiplistNode *backward;\n    struct zskiplistLevel {\n        struct zskiplistNode *forward;\n        unsigned long span;\n    } level[];\n} zskiplistNode;\n\ntypedef struct zskiplist {\n    struct zskiplistNode *header, *tail;\n    unsigned long length;\n    int level;\n} zskiplist;\n\ntypedef struct zset {\n    dict *dict;\n    zskiplist *zsl;\n} zset;</code></pre><p>跳跃列表保存一个有序排列的链表，通过采用多层存储且保持每一层链表是其上一层链表的自己，从最稀疏的层开始搜索，从而达到比链表O(N)更优的查找和插入性能O(log(N))。</p>\n<p><img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Skip_list_add_element-en.gif/600px-Skip_list_add_element-en.gif\" alt></p>\n<p>具体说明参见<a href=\"https://en.wikipedia.org/wiki/Skip_list\" target=\"_blank\" rel=\"noopener\">wiki</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Redis-TTL\"><a href=\"#Redis-TTL\" class=\"headerlink\" title=\"Redis TTL\"></a>Redis TTL</h1><p>Redis 只在key一级上有TTL (Time to live) 机制，<a href=\"https://redis.io/commands/expire\" title=\"Expire Command\" target=\"_blank\" rel=\"noopener\">https://redis.io/commands/expire</a>，有的时候我们需要把item按某种顺序排序，如排行榜或移动时间窗口，这个时候使用Sorted Set(Zset)就非常有用了。</p>\n<h1 id=\"Redis-Zset-按时间过期机制\"><a href=\"#Redis-Zset-按时间过期机制\" class=\"headerlink\" title=\"Redis Zset 按时间过期机制\"></a>Redis Zset 按时间过期机制</h1><p>_1. zadd 添加item时设置score为当前unixtime<br>__1.1. 如果只以第一次插入时间戳做删除则指定nx=true, <a href=\"https://redis.io/commands/zadd\" target=\"_blank\" rel=\"noopener\">https://redis.io/commands/zadd</a><br>__1.2. 如果需要更新已经存在item时间戳为当前时间TTL则指定默认选项，score设置为当前unittime<br>__1.3. 如果每次需要延长固定时间，检查item存在时使用ZINCRBY命令<br>_2. 定时做清理任务，每次计算删除某个时间点之前的所有item  zremrangebyscore</p>\n<h1 id=\"Redis-Zset-命令时间复杂度\"><a href=\"#Redis-Zset-命令时间复杂度\" class=\"headerlink\" title=\"Redis Zset 命令时间复杂度\"></a>Redis Zset 命令时间复杂度</h1><p>Command Complexities of Zset and Set</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Zset</th>\n<th>Set</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Add</td>\n<td>O(log(N))</td>\n<td>O(1)</td>\n</tr>\n<tr>\n<td>Delete (1 items)</td>\n<td>O(log(N))</td>\n<td>O(1)</td>\n</tr>\n<tr>\n<td>Iterate items by key</td>\n<td>O(log(N)+M)</td>\n<td>O(N)</td>\n</tr>\n<tr>\n<td>Scan by score</td>\n<td>O(log(N)+M)</td>\n<td>N/A</td>\n</tr>\n</tbody></table>\n<p>可以看出zset单个元素操作一般为Log(N)其中N为当前集合元素个数。</p>\n<h1 id=\"Redis-Zset-底层结构及算法实现\"><a href=\"#Redis-Zset-底层结构及算法实现\" class=\"headerlink\" title=\"Redis Zset 底层结构及算法实现\"></a>Redis Zset 底层结构及算法实现</h1><p>与set无顺序存储不同，Zset按score顺序进行存储，这也是为什么基本操作都是O(log(N))复杂度。</p>\n<p>Redis使用两种结构存储zset，在数据个数较少时使用ziplist，数量超出阈值时使用skiplist，阈值通过zset-max-ziplist-entries and zset-max-ziplist-value设置。</p>\n<h2 id=\"ziplist\"><a href=\"#ziplist\" class=\"headerlink\" title=\"ziplist\"></a>ziplist</h2><p>ziplist使用连续空间存储双向链表，相比基于堆空间指针的链表前后向移动速度更快。</p>\n<p><img src=\"https://redislabs.com/wp-content/images/academy/redis-in-action/RIA_fig9-01.svg\" alt></p>\n<p>reids list也是使用ziplist存储。</p>\n<h2 id=\"skiplist\"><a href=\"#skiplist\" class=\"headerlink\" title=\"skiplist\"></a>skiplist</h2><p>skiplist 跳跃列表:</p>\n<pre><code>/* ZSETs use a specialized version of Skiplists */\ntypedef struct zskiplistNode {\n    sds ele;\n    double score;\n    struct zskiplistNode *backward;\n    struct zskiplistLevel {\n        struct zskiplistNode *forward;\n        unsigned long span;\n    } level[];\n} zskiplistNode;\n\ntypedef struct zskiplist {\n    struct zskiplistNode *header, *tail;\n    unsigned long length;\n    int level;\n} zskiplist;\n\ntypedef struct zset {\n    dict *dict;\n    zskiplist *zsl;\n} zset;</code></pre><p>跳跃列表保存一个有序排列的链表，通过采用多层存储且保持每一层链表是其上一层链表的自己，从最稀疏的层开始搜索，从而达到比链表O(N)更优的查找和插入性能O(log(N))。</p>\n<p><img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Skip_list_add_element-en.gif/600px-Skip_list_add_element-en.gif\" alt></p>\n<p>具体说明参见<a href=\"https://en.wikipedia.org/wiki/Skip_list\" target=\"_blank\" rel=\"noopener\">wiki</a></p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cjxljfoqi0000ws6yame9r1cs","tag_id":"cjxljfoqp0002ws6yx0m1wkvb","_id":"cjxljfoqt0005ws6yjf5movdm"},{"post_id":"cjxljfoqn0001ws6yanqpm50k","tag_id":"cjxljfoqt0004ws6yhboadh4a","_id":"cjxljfoqu0006ws6ysrm3uh2p"},{"post_id":"cjxljfoqx0007ws6ynywcs50q","tag_id":"cjxljfoqz0008ws6yuohb2o7d","_id":"cjxljfoqz0009ws6y5g954fny"}],"Tag":[{"name":"服务器","_id":"cjxljfoqp0002ws6yx0m1wkvb"},{"name":"写代码","_id":"cjxljfoqt0004ws6yhboadh4a"},{"name":"Redis","_id":"cjxljfoqz0008ws6yuohb2o7d"}]}}